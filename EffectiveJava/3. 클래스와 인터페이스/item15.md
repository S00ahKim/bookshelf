# 클래스와 멤버의 접근 권한을 최소화하라

## 캡슐화
- 잘 설계된 컴포넌트 = 캡슐화가 잘된 컴포넌트 (내부 구현 완벽히 숨김, API로만 접근 가능)
- 장점
    * 빠른 개발 속도
    * 낮은 관리 비용
    * 성능 최적화에 도움을 줌
    * 높은 재사용성
    * 확장 난이도 줄여줌
- 자바가 지원하는 기능
    * 접근 제어자

## 접근 제어하기
- 원칙: **모든 클래스와 멤버의 접근성을 가능한 한 좁힌다**
    * 클래스의 공개 API를 세심히 설계한 후, 그 외의 모든 멤버는 private로 만들기
    * 오직 같은 패캐지의 다른 클래스가 접근해야하는 멤버에 한하여 package-private로 풀어주기
    * 권한을 풀어주는 일이 자주 발생한다면, 컴포넌트를 더 분해해야하는 것
- 왜?
    * 공개 API는 영원히 지원해야 한다.
    * 내부 동작 방식을 문서화하는 부분이 필요하다. (item19)
- 참고
    * 꼭 필요한 경우가 아니라면 public으로 두는 것이 원칙이나, 현업에서는 패키지 구조 변경마다 영향을 받을 수 있어 top level 클래스는 public으로 선언하곤 함
    * 한 클래스에서만 사용하는 package-private 클래스나 인터페이스는 해당 클래스에 private static으로 중첩시키기 (item24)
    * Serializable을 구현하면 의도치 않게 공개 API가 될 수 있으니 주의 (item86, item87)
    * 상위 클래스를 재정의할 때에는 상위 클래스의 접근 제어 수준보다 좁게 만들 수 없음. 리스코프 치환 원칙 (item10)
    * public 클래스의 인스턴스 필드는 되도록 public이 아니어야 함 (item16) 스레드 안전하기 위함
    * 상수는 public static final로 선언하며, LIKE_THIS 처럼 명명하고 (item68), 기본타입 또는 불변객체를 참조해야 함 (item17)
    * 길이가 0이 아닌 배열은 모두 변경 가능하니 public static final 배열 필드를 제공하면 안 됨
        + private으로 두고 불변 리스트(`unmodifiableList`)를 만들어서 제공
        + private으로 두고 복사본을 반환하는 public 메서드 제공
    * 자바9부터 모듈 개념이 추가됨. 자신에 속하는 패키지 중 공개할 것들을 선언할 수 있음.
        + 모듈에 적용되는 새로운 접근 수준은 주의해서 사용해야 함. 모듈의 JAR 위치에 따라 공개 여부와 무관하게 접근할 수 있음.
        + ex. JDK (자바 라이브러리에서 공개하지 않은 패키지는 외부에서 접근 불가)