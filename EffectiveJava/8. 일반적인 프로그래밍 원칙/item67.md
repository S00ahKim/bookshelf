# 최적화는 신중히 하라

## 어설프게 최적화하면 안 하느니만 못하다
- 웬만하면 하지 말라는 격언도 있을 정도
- 구현상의 문제는 나중에 최적화로 해결 가능함
- 아키텍처의 결험이 성능을 제한하면 시스템을 다시 만들어야만 가능함
    * 좋은 프로그램을 작성하다 보면 성능은 따라오기 마련


## 나중에 최적화하기보다 애초부터 성능을 고려하는 것이 나은 경우
- 일부 API 설계
    * ex. `java.awt.Component`
    * Dimension 인스턴스를 반환하게 설계하면서 가변으로 두어서 작은 객체를 수없이 생성할 수 있는 여지를 둠
- 네트워크 프로토콜
    * ex. 연결 방식. 연결을 유지할지, 동접을 늘리기 위해 유지하지 않을지 등
    * 메시지 포매팅 방법이 비효율적인 경우 불필요한 곳에서 부하가 잔뜩 일어날 여지가 있음
- 영구 저장용 데이터 포맷


## 최적화 시도 전후로 성능을 측정하라
- 구현이 완료되면 성능 측정하기
- 변경이 있은 후에도 성능 측정하기
- 성능 문제가 있다면 프로파일링 도구로 원인 분석
    * ex. `JProfiler`, `YourKit`