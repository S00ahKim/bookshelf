# 예외의 상세 메시지에 실패 관련 정보를 담으라

## 스택 트레이스 (Stack Trace)
- 예외 객체의 toString 메서드를 호출해 얻은 문자열
- 일반적으로 예외 클래스 이름 뒤에 상세 메시지가 붙는 형태
- 보통 프로그래머 혹은 신뢰성 엔지니어(SRE; Site Reliability Engineer)가 실패 원인을 분석하기 위한 유일한 정보
- **실패를 재현하기 힘든 경우, 더 자세한 정보를 얻기가 어렵거나 불가능**함
- toString 메서드에 실패 원인에 관한 정보를 가능한 한 많이 담아야 함

## 예외 상세 메시지에 담겨야 하는 정보
> 예외에 관여된 모든 매개변수와 필드의 값을 실패 메시지에 담아라
- 스택 추적 정보는 많은 사람이 볼 수 있으므로 비밀번호나 암호 키 같은 **보안 정보는 담지 말 것**
- **문서와 소스 코드에서 얻을 수 있는 정보까지 담을 필요는 없음**
    * 문제를 분석하는 사람은 관련 문서와 소스코드를 함께 살펴봄
    * 스택 추적은 일반적으로 예외가 발생한 파일 이름과 줄번호, 스택에서 호출한 다른 메서드들의 파일 이름과 줄번호까지 정확히 기록
- 예외 메시지는 가독성보다는 **담긴 내용**이 중요
    * 오류 메시지의 주 소비층인 최종 사용자에게는 친절한 안내 메시지를 보여줘야 함
    * 예외 메시지의 주 소비층인 프로그래머와 SRE 엔지니어이에겐 정보의 질이 더 중요함
- 실패와 관련한 정보를 얻을 수 있는 **접근자를 제공**하는 것이 좋음 (item70)
    * 예외 상황을 복구하는 데 유용할 수 있으므로 검사 예외에서 특히 유용
    * 비검사 예외에의 접근은 드물지라도 일단은 toString 규칙에 따라 상세 정보를 알려주는 접근자 메서드를 두면 유용
- 예시
    * IndexOutOfBoundsException의 경우 인덱스 값은 에러 내용에 보여주지만, **최대/최소값**은 보여주지 않고 있다.
    * 그러나 모든 값을 모두 보여주면 에러 상황을 수습하는 데 좀 더 도움이 되었을 것이다.