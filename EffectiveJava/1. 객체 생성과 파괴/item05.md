# 자원을 직접 명시하지 말고 의존 객체 주입을 사용하라

## 클래스가 내부적으로 하나 이상의 자원에 의존하고 그 자원이 클래스 동작에 영향을 주는 경우...
- 싱글턴 & 정적 유틸리티 클래스 사용을 지양하자
- 의존하는 자원을 클래스가 직접 만드는 것 역시 지양하자
- 왜? 의존하는 자원이 변경될 수 있다! (ex. SpellChecker가 사용하는 Dictionary의 종류는 늘거나 교체될 수 있다)
- final로 관리하던 부분을 메서드로 관리하면 되잖아? 어색함, 오류 내기 쉬움, 멀티스레딩 불가

## 인스턴스를 생성할 때 생성자에 필요한 자원을 넘겨주라
- a.k.a. 의존 객체 주입
- ex. `public SpellChecker(Dictionary dictionary)`
- 장점: 불변 보장(item17)하여 공유할 때 우려할 사항이 없음
- 단점: 의존성이 수천개씩 되면 코드가 좀 어지러울 수 있는데, 그럴 땐 프레임워크를 사용하여 해소하자. ex. `Spring`
- 정적 팩터리(item01)와 빌더(itme02)에서도 사용 가능
- **생성자에 자원 팩터리를 넘겨주는 식**으로도 응용 가능
    * ex. `SpellChecker checkMultiLanguage(Supplier<? extends Dictionary> dictionaryFactory) {...}`
    * 팩터리? 호출할 때마다 특정 타입의 인스턴스를 반복해서 만들어주는 객체 (팩터리 메서드 패턴 구현)
    * 사용처는 자신이 명시한 타입의 하위 타입이면 뭐든 생성 가능한 팩터리를 넘길 수 있음