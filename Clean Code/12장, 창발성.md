# 창발성
> 떠오름(emergence). 하위 계층(구성 요소)에는 없는 특성이나 행동이 상위 계층(전체 구조)에서 자발적으로 돌연히 출현하는 현상. 코드를 작성할 때 어떤 원칙을 지키면, 전체적인 구조와 설계를 파악하기 쉬워진다는 장점이 출현한다는 의미.


## 이 규칙을 따르는 설계는 단순하다
> 중요한 것부터 나열
1. 모든 테스트를 실행한다
2. 중복을 없앤다
3. 프로그래머 의도를 표현한다
4. 클래스와 메서드 수를 최소로 줄인다


## 1. 모든 테스트를 실행한다
- 시스템은 검증 가능해야 한다. 테스트할 수 없는 시스템은 출시해서는 안 된다.
- 테스트가 가능한 시스템을 만들고자 노력하면 품질이 높아진다 -> `낮은 결합, 높은 응집`
    * SRP를 준수할수록, 결합도가 낮을수록 테스트를 작성하기 쉽다.
    * 결합도 낮추기? DIP 적용, 의존성 주입, 인터페이스/추상화 사용 


## 2~4. 리팩토링
- 새로 추가하는 코드가 설계 품질을 낮추는지 계속 확인
- 테스트 케이스가 계속 통과하는지 확인
- 다양한 기법 사용
    * 2~4: 중복 없애기, 의도 표현하기, 클래스/메서드 수 최소화
    * 응집도 높이기
    * 결합도 낮추기
    * 관심사 분리
    * 시스템 관심사를 모듈로 분리
    * 함수와 클래스 크기 줄이기
    * 더 나은 이름 선택하기


## 2. 중복을 없앤다
- 중복 = 똑같거나 비슷한 코드, 중복된 구현
- 중복의 단점? 추가 작업, 추가 위험, 불필요한 복잡도 유발
- 소규모 재사용(적은 양의 코드를 공통으로 뽑기)을 제대로 해야 대규모 재사용도 할 수 있다.
- 템플릿 메서드 패턴: **전체적으로는 동일하면서 부분적으로는 다른** 구문으로 구성된 메서드의 코드 중복을 최소화하기 위해 어떤 작업을 처리하는 일부분을 서브 클래스로 **캡슐화**해 전체 일을 수행하는 구조는 바꾸지 않으면서 특정 단계에서 수행하는 내역을 바꾸는 패턴


## 3. 프로그래머 의도를 표현한다
- 내가 이해하는 코드를 만드는 것은 쉽다. 남도 이해하기 쉬워야 유지보수하기 쉽다.
- 남들의 이해를 돕기 위하여
    1. 좋은 이름을 선택한다
    2. 함수와 클래스 크기를 가능한 줄인다
    3. 표준 명칭을 사용 (표준 패턴을 사용할 경우 패턴 이름을 클래스 이름에 포함)
    4. 유닛 테스트 케이스 꼼꼼히 작성 (테스트 케이스를 `예제로 보여주는 문서`로 여기기)
    5. 충분히 고민하기


## 4. 클래스와 메서드 수를 최소로 줄이기
- 장점도 극에 달하면 나쁜 점이 생긴다
- 가능한 실용적인 방식을 택하자
- 본질적인 목표는 클래스와 메서드 수와 시스템 크기까지 모두 작게 유지하는 데 있다