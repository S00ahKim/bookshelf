# 구부러지거나 부러지거나
> 되돌릴 수 있는 의사결정


## 서로 다른 개념을 분리해 결합도 줄이기
- 코드를 모듈로 구성하고 상호작용을 제한한다.
- 불필요한 의존이 많은 시스템은 유지보수하기 어렵고, 이로 인해 비용이 많이 들며, 시스템 자체가 매우 불안정한 경향이 있다.
- 디미터 법칙: 한 객체가 제공하는 메서드에 접근하기 위해 또 다른 객체들을 통하는 것을 허용하지 않는다.
- 넓은 코드 영역에 걸친 순환적 의존성의 해악은 되돌리기가 극히 어렵다.
- 반정규화: 정규화 법칙을 어기는 대신 속도라는 이점을 얻는 것 (비슷한 트레이드오프가 개발 과정 곳곳에서 발견됨)


## 메타프로그래밍
> 세부 사항은 코드 밖으로 옮기기
- 변화에 쉽게 적응할 수 있도록 코드를 **설정 가능**(ex. `배경색`, `텍스트`, `알고리즘`, `DB 제품` 등)하게 만든다.
    * 설정 가능하게 만든다는 것은 **일반화**한다는 것!
- **메타데이터**를 이용해서 애플리케이션에 대해 기술한다.
    * 어떻게 실행되어야 하는지, 어떤 리소스를 이용해야 하는지 등
    * 컴파일 타임이 아닌 런타임에 접근되고 사용됨
    * 가능한 한 많은 메타데이터를 써서 애플리케이션을 설정하고 실행시키기
    * 일반 텍스트로 표현하는 것을 권장
    * 시작될 때 설정 정보를 읽으면, 이를 변경할 경우 프로그램을 재시작해야 한다. 실행 중에도 리로딩할 수 있게 만들면 좋다.
- 코드에는 추상화를, 메타데이터에는 세부 내용을 기술한다.
    * 어떻게가 아니라 **무엇을 해야** 하는지 명시함 -> **선언적**으로 생각 -> 동적이고 적응가능한 프로그램을 만듦
- cf. 프로퍼티 파일, `application.yml`, 로직 스위치 등

