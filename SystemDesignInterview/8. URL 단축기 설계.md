# URL 단축기 설계

### 구조
- 단축 주소 생성 API
    * 해시 함수로 단축값을 만든다
    * 해시 후 충돌 해소: 충돌이 해소될 때까지 문자열을 덧붙임
        + 단축 URL의 길이가 고정됨 / ID 생성기가 필요하지 않음
        + 한 번 이상의 DB질의가 필요해서 오버헤드 있음
        + 블룸 필터(어떤 집합에 특정 원소가 있는지 검사하는 자료구조)를 사용하면 성능 up
    * base-62: 필요한 문자 개수인 62(숫자, 대문자, 소문자)진법으로 변환해서 표현
        + 단출 URL의 길이는 가변 / ID 생성기가 필요
        + 충돌은 아예 불가능
        + 보안상 문제 있음 (아주 많은 요청시 무력화됨 -> 처리율 제한 장치 도입)
- 단축 주소 조회 API
    * 응답 코드는 301, 302로 내릴 수 있다.
    * 301은 영구 이전되었다는 의미라 브라우저 단에서 캐시한다.
    * 트래픽 분석이 필요할 경우 클릭 발생율, 위치 등을 추적하기 위해 302를 응답한다.

### 밑줄
- 시스템 설계 면접 문제는 의도적으로 어떤 정해진 결말을 갖지 않도록 만들어진다. (p.127)
- 질문을 통해 모호함을 줄이고 요구사항을 알아내야 한다. (p.127)